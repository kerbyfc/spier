#!/usr/bin/env node

Spier = require('../spier.js');

spier = new Spier(process.argv[2]);

ctype = function (file) {
    return file.stat.isDirectory() ? 'directory' : 'file';
};

spier.on( 'create', function (file) {
    console.log( 'create' + ' ' +  ctype(file) + ' ' + file.path );
});
spier.on( 'remove', function (file) {
    console.log( 'remove' + ' ' +  ctype(file) + ' ' + file.path );
});
spier.on( 'change', function (file) {
    console.log( 'change' + ' ' +  ctype(file) + ' ' + file.path );
});
spier.on( 'rename', function (from, to, file) {
    console.log( 'rename', ctype(file), from, to );
});

spier.spy();